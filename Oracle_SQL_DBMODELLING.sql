--3 adet tablo create scripti oluþturunuz. Her bir tablonun minimum 5 kolonu olmasý gerekmektedir.
--Tablolarý birbirine baðlayacak primary key ve foreign key tanýmlarýnýn olmasýna dikkat edilmelidir.
--Tablolara minimum 3 satýr veri insert edecek scriptleri oluþturunuz. Oluþturmuþ olduðunuz tablolarý kaynak olarak alan bir adet synonym, bir adet view scripti oluþturunuz.


----- tablolarý create etme

create table PLAYERS(
ID integer NOT NULL,
FIRST_NANE varchar2(100),
LAST_NAME varchar2(100),
TEAM_ID integer,
POSITIONS_ID integer,
    CONSTRAINT PLAYER_PK PRIMARY KEY (ID)
)

create table TEAMS(
ID integer NOT NULL,
TEAM varchar2(100),
LEAGUE varchar2(100),
    CONSTRAINT TEAMS_PK PRIMARY KEY (ID)
)

create table POSITIONS(
ID integer NOT NULL,
POSITION varchar2(100),
    CONSTRAINT POSITIONS_PK PRIMARY KEY (ID)
)

create table SHOOTING_PERFORMANCE(
PLAYER_ID integer NOT NULL,
GOAL integer,
SHOTS_TOTAL integer,
SHOTS_ONTARGET integer,
SHOTS_FK integer,
SHOTS_PK integer,
    CONSTRAINT SHOOTING_PLAYERS_FK FOREIGN KEY (PLAYER_ID) REFERENCES PLAYERS (ID)
)

create table PASSING_PERFORMANCE(
PLAYER_ID integer NOT NULL,
ASSIST integer,
PASSES_TOTAL integer,
PASSES_KEY integer,
TOTAL_DISTANCE integer,
    CONSTRAINT PASSING_PLAYERS_FK FOREIGN KEY (PLAYER_ID) REFERENCES PLAYERS (ID)
)

create table DEFENSIVE_PERFORMANCE(
PLAYER_ID integer NOT NULL,
TACKLES_WON integer,
TACKLES_LOST integer,
AERIALS_WON integer,
AERIALS_LOST  integer,
    CONSTRAINT DEFENSIVE_PLAYERS_FK FOREIGN KEY (PLAYER_ID) REFERENCES PLAYERS (ID)
)

---- constraintleri ekleme

ALTER TABLE PLAYERS
ADD CONSTRAINT PLAYER_TEAMS_FK FOREIGN KEY (TEAM_ID) REFERENCES TEAMS (ID)

ALTER TABLE PLAYERS
ADD CONSTRAINT PLAYER_POSITIONS_FK FOREIGN KEY (POSITIONS_ID) REFERENCES POSITIONS (ID)


---- Tablolara verileri insert etme

INSERT INTO PLAYERS (ID,FIRST_NANE,LAST_NAME,TEAM_ID,POSITIONS_ID) VALUES (1,'Radamel','Falcao',1,4);
INSERT INTO PLAYERS (ID,FIRST_NANE,LAST_NAME,TEAM_ID,POSITIONS_ID) VALUES (2,'Gökhan','Gönül',2,2);
INSERT INTO PLAYERS (ID,FIRST_NANE,LAST_NAME,TEAM_ID,POSITIONS_ID) VALUES (3,'Atiba','Hutchinson',3,3);

INSERT INTO TEAMS (ID,TEAM,LEAGUE) VALUES (1,'Galatasaray','Super Lig');
INSERT INTO TEAMS (ID,TEAM,LEAGUE) VALUES (2,'Fenerbahçe','Super Lig');
INSERT INTO TEAMS (ID,TEAM,LEAGUE) VALUES (3,'Beþiktaþ','Super Lig');

INSERT INTO POSITIONS (ID,POSITION) VALUES (1,'Kaleci');
INSERT INTO POSITIONS (ID,POSITION) VALUES (2,'Defans');
INSERT INTO POSITIONS (ID,POSITION) VALUES (3,'Orta Saha');
INSERT INTO POSITIONS (ID,POSITION) VALUES (4,'Forvet');

INSERT INTO SHOOTING_PERFORMANCE (PLAYER_ID,GOAL,SHOTS_TOTAL,SHOTS_ONTARGET,SHOTS_FK,SHOTS_PK) VALUES (1,10,50,36,1,4);
INSERT INTO SHOOTING_PERFORMANCE (PLAYER_ID,GOAL,SHOTS_TOTAL,SHOTS_ONTARGET,SHOTS_FK,SHOTS_PK) VALUES (2,2,9,7,0,0);
INSERT INTO SHOOTING_PERFORMANCE (PLAYER_ID,GOAL,SHOTS_TOTAL,SHOTS_ONTARGET,SHOTS_FK,SHOTS_PK) VALUES (3,4,13,12,0,0);

INSERT INTO PASSING_PERFORMANCE (PLAYER_ID,ASSIST,PASSES_TOTAL,PASSES_KEY,TOTAL_DISTANCE) VALUES (1,2,120,15,1210);
INSERT INTO PASSING_PERFORMANCE (PLAYER_ID,ASSIST,PASSES_TOTAL,PASSES_KEY,TOTAL_DISTANCE) VALUES (2,3,115,11,1750);
INSERT INTO PASSING_PERFORMANCE (PLAYER_ID,ASSIST,PASSES_TOTAL,PASSES_KEY,TOTAL_DISTANCE) VALUES (3,4,100,23,2000);

INSERT INTO DEFENSIVE_PERFORMANCE (PLAYER_ID,TACKLES_WON,TACKLES_LOST,AERIALS_WON,AERIALS_LOST) VALUES (1,15,10,50,11);
INSERT INTO DEFENSIVE_PERFORMANCE (PLAYER_ID,TACKLES_WON,TACKLES_LOST,AERIALS_WON,AERIALS_LOST) VALUES (2,50,5,40,0);
INSERT INTO DEFENSIVE_PERFORMANCE (PLAYER_ID,TACKLES_WON,TACKLES_LOST,AERIALS_WON,AERIALS_LOST) VALUES (3,15,14,55,12);


-- yanlýþ kolon isimlendirmesini düzeltme
ALTER TABLE "PLAYERS"
RENAME COLUMN "FIRST_NANE" TO "FIRST_NAME";


--View oluþturma
CREATE VIEW PLAYERS_GOALS
AS
select players.first_name, players.last_name, shooting_performance.goal
from players inner join shooting_performance on players.id = shooting_performance.player_id

--Synonym oluþturma
CREATE SYNONYM PLAYERS_SYN
FOR PLAYERS



